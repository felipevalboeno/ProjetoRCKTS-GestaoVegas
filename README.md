# [Job Management in Technology] - Project, with Spring boot, from the RocketSeat Java training course

<p align="center">
  <img width="500" height="600" alt="image" src="https://github.com/user-attachments/assets/a15ce1da-e246-499a-8322-5a723931a635" />
</p>


### Good practices in object-oriented programming
In this project, you can see:
    - SOLID
    - KISS
    - YAGNI
    - Unit tests
    - Integration tests
    - JavaDoc


## üìà Monitoring and alerting tool

I used Prometheus for monitoring this application, because it's simple and very useful.  
You can test Prometheus in this application using the endpoints below:

- [Health](http://3.139.102.156:8080/actuator/health)
- [Metrics](http://3.139.102.156:8080/actuator/metrics)
- [Prometheus](http://3.139.102.156:8080/actuator/prometheus)


## Documentation
To document and test the application, I used Swagger.
You can access the documentation using the url bellow:

- [Swagger](http://3.139.102.156:8080/swagger-ui/index.html#/)

- Endpoints:
    - Job listing
    - Job registration
    - Delete job
    - Candidate Auth
    - Job Apply
    - Candidate profile
    - Candidate Register
    - Job listing by candidate
    - Company register
    - Auth company
      
 
 ### :camera: Screenshots
Swagger endpoints         |
:---------------------:|
 <img width="1787" height="270" alt="image" src="https://github.com/user-attachments/assets/0e33294f-3d72-4321-bf85-2820cc2e00b8" /> |
 <img width="1782" height="127" alt="image" src="https://github.com/user-attachments/assets/d69ca38a-cdf4-4920-ae3e-c208c2ee72af" /> |
 <img width="1787" height="336" alt="image" src="https://github.com/user-attachments/assets/d9ba6086-4c3a-4968-bec8-3877a361a6f2" /> |
 <img width="1775" height="118" alt="image" src="https://github.com/user-attachments/assets/c8d1338b-fd2e-4dc0-9979-2f92bd424738" /> |
 <img width="1778" height="118" alt="image" src="https://github.com/user-attachments/assets/d40ad381-087c-4e7b-a338-fa4a25b171f5" /> |








# BACK END: 
  - Java;
  - SpringBoot



### üèó Fluxo de Atualiza√ß√£o de Vagas

<span style="color:blue;">üë§ Cliente / Frontend</span>  
&nbsp;&nbsp;&nbsp;&nbsp;|  
&nbsp;&nbsp;&nbsp;&nbsp;| HTTP Request (GET, POST, PUT, DELETE)  
&nbsp;&nbsp;&nbsp;&nbsp;v  

<span style="color:green;">üìù Controller (JobController)</span>  
- Recebe request  
- Valida input / DTO  
- Pega companyId / path params / headers  
- Chama Use Case correspondente  
&nbsp;&nbsp;&nbsp;&nbsp;|  
&nbsp;&nbsp;&nbsp;&nbsp;v  

<span style="color:orange;">‚öôÔ∏è Use Case (CreateJobUseCase / UpdateJobUseCase / DeleteJobUseCase)</span>  
- L√≥gica de neg√≥cio  
- Valida regras (ex: s√≥ empresa dona da vaga pode editar)  
- Prepara entidade  
- Chama Repository  
&nbsp;&nbsp;&nbsp;&nbsp;|  
&nbsp;&nbsp;&nbsp;&nbsp;v  

<span style="color:purple;">üíæ Repository (JobRepository)</span>  
- Acessa banco de dados  
- Cria, atualiza, deleta ou busca dados  
&nbsp;&nbsp;&nbsp;&nbsp;|  
&nbsp;&nbsp;&nbsp;&nbsp;v  

<span style="color:brown;">üóÑ Banco de Dados</span>  
- Persiste ou retorna entidades  
&nbsp;&nbsp;&nbsp;&nbsp;|  
&nbsp;&nbsp;&nbsp;&nbsp;v  

<span style="color:orange;">‚öôÔ∏è Use Case</span>  
- Recebe resultado do Repository  
- Pode aplicar regras finais  
&nbsp;&nbsp;&nbsp;&nbsp;|  
&nbsp;&nbsp;&nbsp;&nbsp;v  

<span style="color:green;">üìù Controller</span>  
- Retorna ResponseEntity para o cliente


### Estutura do projeto BackEnd
```
GESTAO_VAGAS
‚îú‚îÄ‚îÄ .mvn
‚îú‚îÄ‚îÄ .vscode
‚îî‚îÄ‚îÄ src
‚îî‚îÄ‚îÄ main
‚îî‚îÄ‚îÄ java
‚îî‚îÄ‚îÄ br
‚îî‚îÄ‚îÄ com
‚îî‚îÄ‚îÄ felipevalboeno
‚îî‚îÄ‚îÄ gestao_vagas
‚îÇ ‚îú‚îÄ‚îÄ config/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ SwaggerConfig.java
‚îÇ ‚îú‚îÄ‚îÄ exceptions/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ CompanyNotFoundException.java
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ErrorMessageDTO.java
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ExceptionHandlerController.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ JobNotFoundException.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ UserFoundException.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ UserNotFoundException.java
‚îÇ ‚îî‚îÄ‚îÄ modules/
| ‚îú‚îÄ‚îÄ  candidate/
| ‚îú‚îÄ‚îÄ  controllers/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCandidateController.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CandidateController.java
| ‚îú‚îÄ‚îÄ  dto/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCandidateRequestDTO.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCandidateResponseDTO.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ProfileCandidateResponseDTO.java
| ‚îú‚îÄ‚îÄ  entity/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ApplyJobEntity.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CandidateEntity.java
| ‚îú‚îÄ‚îÄ  repository/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ApplyJobRepository.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CandidateRepository.java
| ‚îú‚îÄ‚îÄ  UseCases/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ApplyJobCandidateUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCandidateUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CreateCandidateUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ListAllJobsByFilterUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ProfileCandidateUseCase.java
| ‚îú‚îÄ‚îÄ  company/
| ‚îú‚îÄ‚îÄ  controllers/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCompanyController.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CompanyController.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ JobController.java
| ‚îú‚îÄ‚îÄ  dto/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCompanyDTO.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCompanyResponseDTO.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CreateJobDTO.java
| ‚îú‚îÄ‚îÄ  entity/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CompanyEntity.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ JobEntity.java
| ‚îú‚îÄ‚îÄ  repository/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CompanyRepository.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ JobRepository.java
| ‚îú‚îÄ‚îÄ  UseCases/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ AuthCompanyUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CreateCompanyUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CreateJobUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ DeleteJobUseCase.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ListAllJobsByCompanyUseCase.java
| ‚îú‚îÄ‚îÄ  providers/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ JWTCandidateProvider.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ JWTProvider.java
| ‚îú‚îÄ‚îÄ  security/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ SecurityCandidateFilter.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ SecurityCompanyFilter.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ SecurityConfig.java
‚îú‚îÄ‚îÄ GestaoVagasApplication.java
‚îî‚îÄ‚îÄ application.properties

```

## DEPLOY WITH RENDER
To deploy this application, I used the Render platform (cloud hosting). You can use a free version for studies. 

How to do that?
  1. Log in to Render using your GitHub account.
  2. Do the first simple configuration like name, database name...
  3. Create a Dockerfile on your project with the configuration of "dockerfile config" below.
  4. Create a new Web Service on Render and deploy with your last commit on Git.



```dockerfile config
# =========================
# Stage 1: Build
# =========================
FROM maven:3.9.3-eclipse-temurin-17 AS build

# Define diret√≥rio de trabalho
WORKDIR /app

# Copia apenas o pom.xml para cache do Maven
COPY pom.xml .

# Baixa depend√™ncias sem reconstruir c√≥digo
RUN mvn dependency:go-offline -B

# Copia o c√≥digo-fonte
COPY src ./src

# Build do projeto, gera o .jar
RUN mvn clean package -DskipTests

# =========================
# Stage 2: Runtime
# =========================
FROM openjdk:17-jdk-slim

# Define diret√≥rio de trabalho
WORKDIR /app

# Copia o .jar do stage de build
COPY --from=build /app/target/gestao_vagas-0.0.1-SNAPSHOT.jar app.jar

# Exp√µe a porta do Spring Boot
EXPOSE 8080

# Comando para rodar a aplica√ß√£o
ENTRYPOINT ["java", "-jar", "app.jar"]


ENTRYPOINT [ "java", "-jar", "app.jar" ]
```
 
## Creating a database and webserver on AWS
  1. Create an account on Amazon AWS  
  2. Search for "RDS" and go to Create a database  
  3. Choose standard creation > PostgreSQL > Models: Free tier > Create database  
  4. Search for EC2  
  5. AMI - Kernel6.1 - free > Instance: t3.MICRO - free  
  6. Create pair of keys: RSA > .pem  
  7. Execute instance and connect

## Creating a DockerHub

With Docker Hub, you can save a ready-to-use image of your application, just like you can save your code on GitHub.

You need a .yml file in the root of your project for this, mine looked like this

```dockerfile config
name: Gest√£o de Vagas Application

on: 
    push:
        branches: [main]

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v3
            - name: Set up Java
              uses: actions/setup-java@v3
              with:
                distribution: temurin
                java-version: 17
            - name: Build project
              run: mvn clean install
            - name: login docker
              run: docker login -u ${{secrets.DOCKER_USERNAME}} -p ${{secrets.DOCKER_PASSWORD}}
            - name: Build docker image
              run: docker build -t felipevalboenodocker/gestao_vagas .
            - name: Publish image
              run: docker push felipevalboenodocker/gestao_vagas
                
            
```

### OBS: 
  - I used Putty to configure the Docker on EC2 AWS.
  - I used a Database Client extension to conect a new postgrSQL to EC2 endpoint, and I change the DTABASE_URL on github to this new database that I create.


## How to start the application after all this configurations
  1. Open your Putty app
  2. Connect on the saved session 
  3. execute: cd ~/actions-runner
  4. Check on your github if the runner ar online, if not, execute: ./run.sh
  5. execute: docker start gestao-vagas 
  6. execute: docker ps 
  7. execute: docker logs gestao_vagas , check if the application started as well
  8. Open Swagger: http://<public_ec2_ip>:8080/swagger-ui/index.html an do a test.


# FRONT END: 
  - Tailwind;
  - RestTemplate to connect with http request backend

## Pages
### CANDIDATE
 1- Login candidate
 
 <img width="500" height="600" alt="image" src="https://github.com/user-attachments/assets/a15ce1da-e246-499a-8322-5a723931a635" />

 2- Candidate register
 
 <img width="500" height="600" alt="image" src="https://github.com/user-attachments/assets/6e84672f-0d62-4e95-8af3-e2f434be8eec" />

 3- Candidate profile

 <img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/f09fea56-0ba8-48e4-8450-a87c0b9692e9" />

 4- Jobs to apply
 
 <img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/1b4c9ce8-2a59-4bf5-bd16-e78578f3f96c" />

 ### COMPANY
 
 1- Login company

 <img width="500" height="600" alt="image" src="https://github.com/user-attachments/assets/0b4a711f-1f3b-4cd9-a271-ce62b56564ae" />

 2- Company register

 <img width="500" height="600" alt="image" src="https://github.com/user-attachments/assets/47835a7d-08d3-428d-ab7b-84d7d7b89c02" />

 3- Company jobs register
 
 <img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/87f6cbd8-1390-44d6-a71d-4b0126c9df5d" />

 4- Company Jobs listing
 
<img width="800" height="500" alt="image" src="https://github.com/user-attachments/assets/29c3ff63-2b45-4676-a84f-ea505837cb9c" />

 








### Estutura do projeto FrontEnd
```
FRONT_GESTAO_VAGAS
‚îú‚îÄ‚îÄ .mvn
‚îú‚îÄ‚îÄ .vscode
‚îî‚îÄ‚îÄ src
‚îî‚îÄ‚îÄ main
‚îî‚îÄ‚îÄ java
‚îî‚îÄ‚îÄ br
‚îî‚îÄ‚îÄ com
‚îî‚îÄ‚îÄ felipevalboeno
‚îî‚îÄ‚îÄ front_gestao_vagas
‚îî‚îÄ‚îÄ modules
‚îú‚îÄ‚îÄ candidate
‚îÇ ‚îú‚îÄ‚îÄ controller/
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CandidateController.java
‚îÇ ‚îú‚îÄ‚îÄ dto/
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ CreateCandidateDTO.java
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ JobDTO.java
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ProfileUserDTO.java
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ Token.java
‚îÇ ‚îî‚îÄ‚îÄ service/
‚îÇ ‚îú‚îÄ‚îÄ ApplyJobService.java
‚îÇ ‚îú‚îÄ‚îÄ CandidateService.java
‚îÇ ‚îú‚îÄ‚îÄ CreateCandidateService.java
‚îÇ ‚îú‚îÄ‚îÄ FindJobsService.java
‚îÇ ‚îî‚îÄ‚îÄ ProfileCandidateService.java
‚îî‚îÄ‚îÄ company
‚îú‚îÄ‚îÄ controller/
‚îÇ ‚îî‚îÄ‚îÄ CompanyController.java
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ CreateCompanyDTO.java
‚îÇ   ‚îî‚îÄ‚îÄ CreateJobsDTO.java
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ CreateCompanyService.java
‚îÇ   ‚îú‚îÄ‚îÄ CreateJobService.java
‚îÇ   ‚îú‚îÄ‚îÄ ListAllJobsCompanyService.java
‚îÇ   ‚îî‚îÄ‚îÄ LoginCompanyService.java
‚îú‚îÄ‚îÄ security/
‚îÇ   ‚îî‚îÄ‚îÄ SecurityConfig.java
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ FrontGestaoVagasApplication.java
‚îú‚îÄ‚îÄ resources
‚îú‚îÄ‚îÄ static
‚îú‚îÄ‚îÄ templates
‚îÇ   ‚îî‚îÄ‚îÄ candidate
‚îÇ       ‚îî‚îÄ‚îÄ create.html
‚îÇ       ‚îî‚îÄ‚îÄ jobs.html
‚îÇ       ‚îî‚îÄ‚îÄ login.html
‚îÇ       ‚îî‚îÄ‚îÄ profile.html
‚îÇ   ‚îî‚îÄ‚îÄ company
‚îÇ       ‚îî‚îÄ‚îÄ create.html
‚îÇ       ‚îî‚îÄ‚îÄ jobs.html
‚îÇ       ‚îî‚îÄ‚îÄ list.html
‚îÇ       ‚îî‚îÄ‚îÄ login.html
‚îî‚îÄ‚îÄ application.properties

```
